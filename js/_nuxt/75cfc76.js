(window.webpackJsonp=window.webpackJsonp||[]).push([[298],{1430:function(e,t,o){var content=o(1603);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(61).default)("0dd2338a",content,!0,{sourceMap:!1})},1602:function(e,t,o){"use strict";o(1430)},1603:function(e,t,o){var r=o(60)((function(i){return i[1]}));r.push([e.i,".poet>*[data-v-fc9425ac]{--tw-border-opacity:1;align-items:center;border-bottom-width:1px;border-color:#d4d4d4;border-color:rgba(212,212,212,var(--tw-border-opacity));display:flex;height:4.5rem;justify-content:center;max-width:28rem;width:100%}.family[data-v-fc9425ac]{letter-spacing:.3rem}",""]),r.locals={},e.exports=r},1754:function(e,t,o){"use strict";o.r(t);o(43);var r=o(7),n=o(15),c=o(16),d=o(18),l=o(17),h=o(8),f=(o(52),o(29),o(48),o(95),o(10),o(362),o(44),o(28),o(79),o(1)),v=o(0),m=o(593),y=o(1135),main=o(65),w=o(129),O=o(1193),P=o(1492);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Object(h.a)(e);if(t){var n=Object(h.a)(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Object(l.a)(this,o)}}var k=function(e){Object(d.a)(o,e);var t=S(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).MainStore=Object(v.getModule)(main.default,e.$store),e.PopupStore=Object(v.getModule)(w.default,e.$store),e.reached=!1,e}return Object(c.a)(o,[{key:"head",value:function(){var e=this.isCustom("editor-option-url-share"),t=[{hid:"og:title",property:"og:title",content:e?this.urlShare.title:this.mainTitle},{hid:"og:description",property:"og:description",content:this.urlShare.description},{hid:"viewport",name:"viewport",content:this.preventZoom?"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no":"width=device-width, initial-scale=1.0"},{property:"og:type",content:"website"}];return"none"!==this.option.custom?t.push({hid:"og:image",property:"og:image",content:e?this.imageProxy(this.urlShare.image):this.imageProxy(this.urlShareDefault)}):t.push({hid:"og:image",property:"og:image",content:""}),{title:this.urlShare.title||this.mainTitle,meta:t}}},{key:"dayOfWeek",value:function(e){return["일","월","화","수","목","금","토"][e]}},{key:"mainImageUrl",get:function(){return this.editor.main.image.url}},{key:"attendancePopup",get:function(){return this.PopupStore.attendancePopup}},{key:"preventZoom",get:function(){var e,t,o;return(null===(t=null===(e=this.MainStore.editor.optionOrders)||void 0===e?void 0:e.find((function(e){return"editor-option-prevent-zoom"===e.id})))||void 0===t?void 0:t.active)&&(null===(o=this.MainStore.editor.optionPreventZoom)||void 0===o?void 0:o.active)}},{key:"isCustom",value:function(e){var t;return null===(t=this.editor.optionOrders.find((function(element){return element.id===e})))||void 0===t?void 0:t.active}},{key:"paid",get:function(){return this.MainStore.info.paid}},{key:"disableAccount",get:function(){return"1"===this.code.at(-1)}},{key:"sections",get:function(){return this.MainStore.editor.sectionOrders}},{key:"attendance",get:function(){return this.editor.attendance}},{key:"setReached",value:function(){var e=document.getElementById("editor-section-attendance"),t="reach"===this.attendance.exposurelocation;if(e&&!this.reached){var o=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,n=r/2;if(Math.abs(o.top+300+o.height/2-n)<r/2&&(this.reached=!0,"attendance"!==this.popup&&this.editor.attendance.popupItems.usePopup)){var c=this.editor.sectionOrders.find((function(e){return"editor-section-attendance"===e.id})).active,d=localStorage.getItem("AT_TODAY_NOT_SHOW");if(!d&&c&&t&&this.PopupStore.toggleAttendancePopup(!0),d&&c&&t)if(JSON.parse(d)[this.code])new Date(JSON.parse(d)[this.code])<new Date&&c&&this.PopupStore.toggleAttendancePopup(!0);else this.PopupStore.toggleAttendancePopup(!0)}}}},{key:"beforeDestroy",value:function(){window.onbeforeunload=null,window.removeEventListener("scroll",this.setReached)}},{key:"mounted",value:function(){if(window.addEventListener("scroll",this.setReached),this.lock&&(alert("청첩장 코드가 일시적으로 차단되었습니다"),this.$router.push("/")),this.editor||(alert("올바르지 않은 코드입니다"),this.$router.push("/")),this.$route.query.youtubeRedirect){var e=this.eventDateStatic.toDate().getTime(),t=(new Date).getTime();return Math.floor((e-t)/6e4)>30?void this.$router.replace("/mcard/view/live-not-started"):void window.open(this.editor.liveBroadcast.youtubeURL,"_self")}if(this.overrideCss){var o=document.createElement("style");o.innerText=this.overrideCss,document.head.appendChild(o)}var r="entry"===this.attendance.exposurelocation;if("attendance"===this.popup&&this.PopupStore.setAttendanceSubmitPopup(!0),"attendance"!==this.popup&&this.editor.attendance.popupItems.usePopup){var n=this.editor.sectionOrders.find((function(e){return"editor-section-attendance"===e.id})).active,c=localStorage.getItem("AT_TODAY_NOT_SHOW");if(!c&&n&&r&&this.PopupStore.toggleAttendancePopup(!0),c&&n&&r)if(JSON.parse(c)[this.code])new Date(JSON.parse(c)[this.code])<new Date&&n&&this.PopupStore.toggleAttendancePopup(!0);else this.PopupStore.toggleAttendancePopup(!0)}}}]),o}(Object(v.mixins)(v.Vue,m.a,P.a));Object(f.a)([Object(v.Ref)()],k.prototype,"bgmPlayer",void 0);var x=k=Object(f.a)([Object(v.Component)({components:{CardView:y.default,PreviewWartermark:O.default},layout:"card",asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var code,o,r,n,c,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return code=e.route.params.id,o=e.route.query.popup,r=e.route.query.account,t.next=5,e.$axios.get("/invitation/".concat(code));case 5:return n=t.sent.data,c=Object(v.getModule)(main.default,e.store),code&&n.editor&&(c.setEditor(n.editor),c.setInfo(n.info),"false"===r&&c.setAccountSection()),d=n.info.lock,t.abrupt("return",{lock:d,editor:d?null:n.editor,info:n.info,overrideCss:n.overrideCss,code:code,popup:o,account:n.account});case 10:case"end":return t.stop()}}),t)})))()}})],k),_=(o(1602),o(19)),component=Object(_.a)(x,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex justify-center",staticStyle:{"background-color":"#333"}},[t("div",{staticClass:"card-wrapper relative invitation"},["NOT_PAID"===e.paid?t("PreviewWartermark"):e._e(),e._v(" "),t("div",{staticClass:"relative max-w-[44rem]"},[t("client-only",[t("CardView",{attrs:{id:"cardview","disable-account":e.disableAccount}})],1)],1),e._v(" "),"NOT_PAID"===e.paid?t("PreviewWartermark"):e._e()],1)])}),[],!1,null,"fc9425ac",null);t.default=component.exports;installComponents(component,{PreviewWartermark:o(1193).default,CardView:o(1135).default})}}]);