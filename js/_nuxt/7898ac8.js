(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1761:function(t,e,o){"use strict";o.r(e);var r=o(9),n=(o(10),o(43),o(7)),c=o(15),l=o(16),d=o(18),f=o(17),h=o(8),m=(o(52),o(131),o(1)),P=o(0),main=o(65),v=o(129);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,r=Object(h.a)(t);if(e){var n=Object(h.a)(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Object(f.a)(this,o)}}var y=function(t){Object(d.a)(f,t);var e,o,r=x(f);function f(){var t;return Object(c.a)(this,f),(t=r.apply(this,arguments)).MainStore=Object(P.getModule)(main.default,t.$store),t.PopupStore=Object(P.getModule)(v.default,t.$store),t}return Object(l.a)(f,[{key:"code",get:function(){return this.$route.params.id}},{key:"isModify",get:function(){return this.PopupStore.attendanceThanksPopupIsModify}},{key:"broadcastPopup",get:function(){return this.PopupStore.broadcastPopup},set:function(t){this.PopupStore.toggleBroadcastPopup(t)}},{key:"broadcastPhoneNumber",get:function(){return this.PopupStore.broadcastPhoneNumber},set:function(t){this.PopupStore.setBroadcastPhoneNumber(t)}},{key:"alertPopup",get:function(){return this.PopupStore.alertPopup},set:function(t){this.PopupStore.toggleAlertPopup(t)}},{key:"broadcastModifyPopup",get:function(){return this.PopupStore.broadcastModifyPopup},set:function(t){this.PopupStore.toggleBroadcastModifyPopup(t)}},{key:"addBroadcastPhoneNumber",value:(o=Object(n.a)(regeneratorRuntime.mark((function t(){var e,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.broadcastPhoneNumber.trim()){t.next=3;break}return t.abrupt("return",alert("전화번호를 입력해 주세요."));case 3:return t.next=5,this.$axios.$post("/notice/live",{code:this.code,phoneNumber:e});case 5:o=t.sent,this.alertPopup=!0,this.PopupStore.setAlertPopupText(o?"전화번호가 추가되었습니다.":"이미 등록된 번호입니다."),o&&(this.broadcastModifyPopup=!1,localStorage.setItem("live-broadcast-phone-number_".concat(this.code),this.broadcastPhoneNumber));case 9:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"modifyBroadcastPhoneNumber",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){var e,o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=localStorage.getItem("live-broadcast-phone-number_".concat(this.code))||"",o=this.broadcastPhoneNumber.trim()){t.next=4;break}return t.abrupt("return",alert("전화번호를 입력해 주세요."));case 4:if(e!==o){t.next=6;break}return t.abrupt("return",alert("이전에 등록한 번호와 같습니다."));case 6:return t.next=8,this.$axios.$patch("/notice/live",{code:this.code,prev:e,after:o});case 8:r=t.sent,this.alertPopup=!0,this.PopupStore.setAlertPopupText(r?"전화번호가 수정되었습니다.":"이미 등록된 번호입니다."),r&&(this.broadcastModifyPopup=!1,localStorage.setItem("live-broadcast-phone-number_".concat(this.code),this.broadcastPhoneNumber));case 12:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),f}(P.Vue),k=y=Object(m.a)([P.Component],y),S=o(19),component=Object(S.a)(k,(function(){var t,e=this,o=e._self._c;e._self._setupProxy;return o("Popup",{model:{value:e.broadcastModifyPopup,callback:function(t){e.broadcastModifyPopup=t},expression:"broadcastModifyPopup"}},[o("div",{staticClass:"base-section mx-auto flex flex-col items-center sm:w-[95%] bg-white rounded-xl tracking-tighter text-base",class:(t={},Object(r.a)(t,e.MainStore.globalSize.class||"",!0),Object(r.a)(t,e.MainStore.globalFont.class||"",!0),t)},[o("div",{staticClass:"pt-12 pb-6 flex flex-col w-full rounded-t-xl text-center"},[o("p",[e._v("이미 예약하셨습니다.")]),e._v(" "),o("p",[e._v("새 전화번호를 추가하시거나")]),e._v(" "),o("p",[e._v("기존 전화번호를 수정하시겠습니까?")])]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.broadcastPhoneNumber,expression:"broadcastPhoneNumber"}],staticClass:"mb-12 p-4 mx-auto flex-1 bg-white rounded-md border border-[#eee] outline-2 text-center placeholder:text-[#aaa] tracking-normal",attrs:{name:"phoneNumber-formatting",type:"text",pattern:"\\d*",maxlength:"13",inputmode:"numeric",placeholder:"전화번호를 입력해 주세요."},domProps:{value:e.broadcastPhoneNumber},on:{input:function(t){t.target.composing||(e.broadcastPhoneNumber=t.target.value)}}}),e._v(" "),o("div",{staticClass:"flex w-full font-light"},[o("button",{staticClass:"modalbtn-l",on:{click:function(t){e.broadcastModifyPopup=!1}}},[e._v("\n        닫기\n      ")]),e._v(" "),o("button",{staticClass:"modalbtn-m",on:{click:e.addBroadcastPhoneNumber}},[e._v("\n        새 전화번호 추가\n      ")]),e._v(" "),o("div",{staticClass:"modalbtn-r",on:{click:e.modifyBroadcastPhoneNumber}},[e._v("\n        기존 전화번호 수정\n      ")])])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Popup:o(251).default})}}]);